% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/CalculateRiskScore.R, R/RiskScore.R
\name{CalculateRiskScore}
\alias{CalculateRiskScore}
\title{Calculate Risk Score}
\usage{
CalculateRiskScore(dfResults, dfMetricWeights = gsm.kri::metricWeights)

CalculateRiskScore(dfResults, dfMetricWeights = gsm.kri::metricWeights)
}
\arguments{
\item{dfResults}{`data.frame` The results data to calculate risk scores for.}

\item{dfMetricWeights}{`data.frame` Combinations of metric ID and flag value, each with a corresponding weight. Default: `gsm.kri::metricWeights`.}

\item{lAnalysis}{`list` List of analysis outputs from the metrics calculated in the
`workflow/2_metrics` workflows}
}
\value{
`data.frame` `dfResults` with the following additional columns:
- `SnapshotMonth`: The month of the snapshot, formatted as "YYYY-MM".
- `RiskScore`: The total risk score for the group.
- `RiskScoreMax`: The maximum possible risk score for the group.
- `RiskScoreNormalized`: The normalized risk score as a percentage of the maximum.
- `nRed`: The count of metrics flagged as red.
- `nAmber`: The count of metrics flagged as amber.

`data.frame` `dfResults` with additional columns: `SnapshotMonth`, `RiskScore`, `RiskScoreMax`, `RiskScoreNormalized`, `nRed`, `nAmber`.
}
\description{
Calculates the risk score for each group in the provided results data frame.

Calculates the risk score for each group in the provided results data frame.
}
\examples{
lAnalysis <- list(Analysis_Summary = gsm.core::analysisSummary)
dfRiskScore <- CalculateRiskScore(lAnalysis)

dfRiskScore <- CalculateRiskScore(gsm.core::reportingResults)

}
